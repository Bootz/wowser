<chat class="chat frame">
  <ul name="messages">
    <li class="message system">Welcome to Wowser!</li>
    <li class="message system">This is a very alpha-ish build. Do not expect miracles.</li>

    <li class="message info">This is an info message</li>
    <li class="message error">This is an error message</li>
    <li class="message area">KaZooM: This is a message emitted nearby</li>
    <li class="message channel">[Trade]: This is a channel message</li>
    <li class="message whisper outgoing">To Someone: This is an outgoing whisper</li>
    <li class="message whisper incoming">Someone: This is an incoming whisper</li>
    <li class="message guild">[Guild] Someone: This is a guild message</li>

    <li each="{ handler.messages }">{ text }</li>
  </ul>

  <form onsubmit="{ send }">
    <input type="text" name="message" value="" />
  </form>

  <script>
    this.handler = this.opts.handler;

    this.handler.on('message', function() {
      this.update();
    }.bind(this));

    send() {
      var message = new this.handler.create();
      message.text = this.message.value;
      this.handler.messages.push(message);
      this.update();

      this.message.value = null;
      this.messages.scrollTop = this.messages.scrollHeight;
    }
  </script>
</chat>
